#############
## validation
## will be added
#validate(config, "schema/config.schema.yaml")
#validate(samples, "schema/samples.schema.yaml")

#######################
## loading rule modules
include: "rules/common.smk"            ## self-defined functions
include: "rules/reads_qc.smk"          ## fsatqc & trim-galore for pe and se
include: "rules/mapping.smk"           ## bwa, samtools, infer intert size
include: "rules/fragment_profile.smk"  ## fragment profile
include: "rules/meth_qc_quant.smk"     ## medips + medestrand + qsea based qc and quantification
include: "rules/aggregating.smk"       ## aggregating all samples' QC, fragment profiles and quantifications

###################
## targeted outputs
rule all:
    input:
        get_rule_all_input()     ## for all
        #expand("meth_qc_quant_spikein/{samples}_meth_qc.txt", samples = SAMPLES["sample_id"])   ## testing
