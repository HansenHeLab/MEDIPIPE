#############
## validation
#validate(config, "schema/config.schema.yaml")
#validate(samples, "schema/samples.schema.yaml")


#################
## initialization
## working dir for outputs
workdir: config["workdir"]        ##

## loading rule modules
include: "rules/common.smk"         ## self-defined functions
include: "rules/reads_qc.smk"       ## fsatqc & trim-galore for pe and se
include: "rules/mapping.smk"        ## bwa, samtools, infer intert size
include: "rules/medips.smk"         ## medips qc and quantification


###################
## targeted outputs
rule all:
    input:
        get_rule_all_input()     ## for all
        #"extract_barcodes/A_barcode_R1.fastq.gz"    ## for testing
